[gd_scene load_steps=8 format=3 uid="uid://b2v32rkmnhnp2"]

[ext_resource type="TileSet" uid="uid://byyajy22ueghw" path="res://assets/scenes/tilemaps/isometric_template.tres" id="1_hcv77"]
[ext_resource type="Texture2D" uid="uid://4i2vkmgshttk" path="res://assets/art/sprites/test_sprites.png" id="2_gm7lw"]
[ext_resource type="Script" path="res://scripts/Player.gd" id="2_n38y2"]
[ext_resource type="Script" path="res://scripts/ui/Pointer.gd" id="3_fyr8x"]

[sub_resource type="CircleShape2D" id="CircleShape2D_rkoc7"]
radius = 0.1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w1srw"]
size = Vector2(16, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sdk6y"]
size = Vector2(14, 8)

[node name="Node2D" type="Node2D"]

[node name="TileMap" type="TileMap" parent="." groups=["tilemap"]]
y_sort_enabled = true
tile_set = ExtResource("1_hcv77")
format = 2
layer_0/name = "floor_0"
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(-1, 196608, 8, -131072, 196608, 8, -196608, 196608, 8, -131071, 196608, 8, -65536, 196608, 8, 0, 196608, 8, 65536, 196608, 8, 1, 196608, 8, -65535, 196608, 8, -65537, 196608, 8, -131073, 196608, 8, -262144, 196608, 8, -327680, 196608, 8, -262143, 196608, 8, -196607, 196608, 8, -131070, 196608, 8, -393215, 196608, 8, -327679, 196608, 8, -262142, 196608, 8, -196606, 196608, 8, -131069, 196608, 8, -65534, 196608, 8, -458752, 196608, 8, -131074, 196608, 8, -196609, 196608, 8, -262145, 196608, 8, -393216, 196608, 8, 2, 196608, 8, 65537, 196608, 8, 131073, 196608, 8, -65533, 196608, 8, 3, 196608, 8, 65538, 196608, 8, 131074, 196608, 8, 196609, 196608, 8, -65538, 196608, 8, -2, 196608, 8, 65535, 196608, 8, 131071, 196608, 8, 131072, 196608, 8, 196608, 196608, 8, 262145, 196608, 8, 327680, 196608, 8, 262144, 196608, 8, 262143, 196608, 8, 196607, 196608, 8, 131070, 196608, 8, 65534, 196608, 8, -3, 196608, 8, 65533, 196608, 8, 131069, 196608, 8, 196605, 196608, 8, 262141, 196608, 8, 327677, 196608, 8, 393213, 196608, 8, 458749, 196608, 8, 524285, 196608, 8, 589822, 196608, 8, 655358, 196608, 8, 393212, 196608, 8, 327676, 196608, 8, 262139, 196608, 8, 196604, 196608, 8, 131068, 196608, 8, 262140, 196608, 8, 65539, 196608, 8, 131075, 196608, 8, 196610, 196608, 8, 262146, 196608, 8, 327681, 196608, 8, 393217, 196608, 8, 458752, 196608, 8, 524288, 196608, 8, 655359, 196608, 8, 720895, 196608, 8, 458751, 196608, 8, 393215, 196608, 8, 327679, 196608, 8, 262142, 196608, 8, 196606, 196608, 8, 327678, 196608, 8, 393214, 196608, 8, 458750, 196608, 8, 524286, 196608, 8, 589823, 196608, 8, 524287, 196608, 8, 393216, 196608, 8, 786431, 196608, 8, 655360, 196608, 8, 589824, 196608, 8, 524289, 196608, 8, 458753, 196608, 8, 393218, 196608, 8, 327682, 196608, 8, 262147, 196608, 8, 196611, 196608, 8, 131076, 196608, 8, 65540, 196608, 8, 131077, 196608, 8, 196612, 196608, 8, 262148, 196608, 8, 327683, 196608, 8, 393219, 196608, 8, 458754, 196608, 8, 524290, 196608, 8, 589825, 196608, 8, 655361, 196608, 8, 720896, 196608, 8, 786432, 196608, 8, 851968, 196608, 8, 786433, 196608, 8, 720897, 196608, 8, 655362, 196608, 8, 589826, 196608, 8, 524291, 196608, 8, 458755, 196608, 8, 393220, 196608, 8, 327684, 196608, 8, 262149, 196608, 8, 196613, 196608, 8, 262150, 196608, 8, 327685, 196608, 8, 393221, 196608, 8, 458756, 196608, 8, 524292, 196608, 8, 589827, 196608, 10, 655363, 196608, 8, 720898, 196608, 8, 786434, 196608, 8, 851969, 196608, 8, 917505, 196608, 8, 983040, 196608, 8, 917504, 196608, 8, 917503, 196608, 8, 851967, 196608, 8, 786430, 196608, 8, 720894, 196608, 8, 655357, 196608, 8, 589821, 196608, 8, 524284, 196608, 8, 458748, 196608, 8, 393211, 196608, 8, 327675, 196608, 8, 393210, 196608, 8, 458747, 196608, 8, 524283, 196608, 8, 589820, 196608, 8, 655356, 196608, 8, 720893, 196608, 8, 786429, 196608, 8, 851966, 196608, 8, 917502, 196608, 8, 983039, 196608, 8, 1048575, 196608, 8, 1048576, 196608, 8, -262154, 196608, 8, -196618, 196608, 8, -131082, 196608, 8, -65546, 196608, 8, -10, 196608, 8, 65526, 196608, 8, 131062, 196608, 8, 196598, 196608, 8, 262134, 196608, 8, 327670, 196608, 8, 393206, 196608, 8, 458742, 196608, 8, 524278, 196608, 8, 589814, 196608, 8, 655350, 196608, 8, 720886, 196608, 8, 786422, 196608, 8, 851958, 196608, 8, 917494, 196608, 8, 983030, 196608, 8, 1048566, 196608, 8, 1114102, 196608, 8, -262153, 196608, 8, -196617, 196608, 8, -131081, 196608, 8, -65545, 196608, 8, -9, 196608, 8, 65527, 196608, 8, 131063, 196608, 8, 196599, 196608, 8, 262135, 196608, 8, 327671, 196608, 8, 393207, 196608, 8, 458743, 196608, 8, 524279, 196608, 8, 589815, 196608, 8, 655351, 196608, 8, 720887, 196608, 8, 786423, 196608, 8, 851959, 196608, 8, 917495, 196608, 8, 983031, 196608, 8, 1048567, 196608, 8, 1114103, 196608, 8, -262152, 196608, 8, -196616, 196608, 8, -131080, 196608, 8, -65544, 196608, 8, -8, 196608, 8, 65528, 196608, 8, 131064, 196608, 8, 196600, 196608, 8, 262136, 196608, 8, 327672, 196608, 8, 393208, 196608, 8, 458744, 196608, 8, 524280, 196608, 8, 589816, 196608, 8, 655352, 196608, 8, 720888, 196608, 8, 786424, 196608, 8, 851960, 196608, 8, 917496, 196608, 8, 983032, 196608, 8, 1048568, 196608, 8, 1114104, 196608, 8, -262151, 196608, 8, -196615, 196608, 8, -131079, 196608, 8, -65543, 196608, 8, -7, 196608, 8, 65529, 196608, 8, 131065, 196608, 8, 196601, 196608, 8, 262137, 196608, 8, 327673, 196608, 8, 393209, 196608, 8, 458745, 196608, 8, 524281, 196608, 8, 589817, 196608, 8, 655353, 196608, 8, 720889, 196608, 8, 786425, 196608, 8, 851961, 196608, 8, 917497, 196608, 8, 983033, 196608, 8, 1048569, 196608, 8, 1114105, 196608, 8, -262150, 196608, 8, -196614, 196608, 8, -131078, 196608, 8, -65542, 196608, 8, -6, 196608, 8, 65530, 196608, 8, 131066, 196608, 8, 196602, 196608, 8, 262138, 196608, 8, 327674, 196608, 8, 458746, 196608, 8, 524282, 196608, 8, 589818, 196608, 8, 655354, 196608, 8, 720890, 196608, 8, 786426, 196608, 8, 851962, 196608, 8, 917498, 196608, 8, 983034, 196608, 8, 1048570, 196608, 8, 1114106, 196608, 8, -262149, 196608, 8, -196613, 196608, 8, -131077, 196608, 8, -65541, 196608, 8, -5, 196608, 8, 65531, 196608, 8, 131067, 196608, 8, 196603, 196608, 8, 589819, 196608, 8, 655355, 196608, 8, 720891, 196608, 8, 786427, 196608, 8, 851963, 196608, 8, 917499, 196608, 8, 983035, 196608, 8, 1048571, 196608, 8, 1114107, 196608, 8, -262148, 196608, 8, -196612, 196608, 8, -131076, 196608, 8, -65540, 196608, 8, -4, 196608, 8, 65532, 196608, 8, 720892, 196608, 8, 786428, 196608, 8, 851964, 196608, 8, 917500, 196608, 8, 983036, 196608, 8, 1048572, 196608, 8, 1114108, 196608, 8, -262147, 196608, 8, -196611, 196608, 8, -131075, 196608, 8, -65539, 196608, 8, 851965, 196608, 8, 917501, 196608, 8, 983037, 196608, 8, 1048573, 196608, 8, 1114109, 196608, 8, -458762, 196608, 8, -393226, 196608, 8, -327690, 196608, 8, -458761, 196608, 8, -393225, 196608, 8, -327689, 196608, 8, -458760, 196608, 8, -393224, 196608, 8, -327688, 196608, 8, -458759, 196608, 8, -393223, 196608, 8, -327687, 196608, 8, -458758, 196608, 8, -393222, 196608, 8, -327686, 196608, 8, -458757, 196608, 8, -393221, 196608, 8, -327685, 196608, 8, -458756, 196608, 8, -393220, 196608, 8, -327684, 196608, 8, -458755, 196608, 8, -393219, 196608, 8, -327683, 196608, 8, -458754, 196608, 8, -393218, 196608, 8, -327682, 196608, 8, -262146, 196608, 8, -196610, 196608, 8, -458753, 196608, 8, -393217, 196608, 8, -327681, 196608, 8, -524288, 196608, 8, 983038, 196608, 8, 1048574, 196608, 8, 1114110, 196608, 8, 1114111, 196608, 8, -589824, 196608, 8, -589823, 196608, 8, -524287, 196608, 8, -458751, 196608, 8, 983041, 196608, 8, -589822, 196608, 8, -524286, 196608, 8, -458750, 196608, 8, -393214, 196608, 8, -327678, 196608, 8, 851970, 196608, 8, 917506, 196608, 8, 983042, 196608, 8, -589821, 196608, 8, -524285, 196608, 8, -458749, 196608, 8, -393213, 196608, 8, -327677, 196608, 8, -262141, 196608, 8, -196605, 196608, 8, 720899, 196608, 8, 786435, 196608, 8, 851971, 196608, 8, 917507, 196608, 8, 983043, 196608, 8, 589828, 196608, 8, 655364, 196608, 8, 720900, 196608, 8, 786436, 196608, 8, 851972, 196608, 8, 917508, 196608, 8, 983044, 196608, 8, 65541, 196608, 8, 458757, 196608, 8, 524293, 196608, 8, 589829, 196608, 8, 655365, 196608, 8, 720901, 196608, 8, 786437, 196608, 8, 851973, 196608, 8, 917509, 196608, 8, 983045, 196608, 8, 65542, 196608, 8, 131078, 196608, 8, 196614, 196608, 8, 327686, 196608, 8, 393222, 196608, 8, 458758, 196608, 8, 524294, 196608, 8, 589830, 196608, 8, 655366, 196608, 8, 720902, 196608, 8, 786438, 196608, 8, 851974, 196608, 8, 917510, 196608, 8, 983046, 196608, 8, -524299, 196608, 8, -458763, 196608, 8, -393227, 196608, 8, -327691, 196608, 8, -262155, 196608, 8, -196619, 196608, 8, -131083, 196608, 8, -65547, 196608, 8, -11, 196608, 8, 65525, 196608, 8, 131061, 196608, 8, 196597, 196608, 8, 262133, 196608, 8, 327669, 196608, 8, 393205, 196608, 8, 458741, 196608, 8, 524277, 196608, 8, 589813, 196608, 8, 655349, 196608, 8, 720885, 196608, 8, 786421, 196608, 8, 851957, 196608, 8, 917493, 196608, 8, 983029, 196608, 8, 1048565, 196608, 8, -524298, 196608, 8, -524297, 196608, 8)
layer_1/name = "floor_1"
layer_1/y_sort_enabled = true
layer_1/y_sort_origin = 16
layer_1/tile_data = PackedInt32Array(-327680, 131072, 0, -262144, 131072, 0, -262143, 131072, 0, -196608, 131072, 0, 327678, 0, 3, 262142, 65536, 3, 196607, 196608, 0, 131071, 196608, 0, 65536, 196608, 0, 262143, 196608, 0, 262144, 196608, 0, 196608, 196608, 0, 327679, 65536, 3, 393215, 65536, 3, 393214, 0, 3, 458751, 0, 3, 327680, 131072, 3, 262145, 196608, 0, 131073, 196608, 0, 196609, 131072, 1, 393217, 196608, 3, 393216, 393216, 2, 524288, 458752, 2, 458752, 196608, 3, 524287, 0, 3, -393216, 393216, 3, 131074, 262144, 5, -65532, 65536, 1, 5, 65536, 1, 4, 0, 1, 65540, 0, 1, 65541, 262144, 6, 196613, 262144, 7, 131077, 0, 1, 131078, 196608, 1, 65542, 196608, 1, 6, 131072, 1, -65531, 196608, 0, -131067, 196608, 0, -131066, 196608, 0, -196603, 196608, 0, 7, 196608, 1, -65530, 131072, 1, -327676, 196608, 0, -393212, 196608, 0, -393209, 196608, 0, -327674, 196608, 0, -262139, 196608, 0, -262138, 196608, 0, -327677, 196608, 0, -262140, 196608, 0, -196604, 196608, 0, -327673, 196608, 0, -262137, 196608, 0, -196602, 196608, 0, -131068, 196608, 0, -196605, 196608, 0, -262141, 196608, 0, -196606, 0, 0, -131069, 0, 0, -65533, 0, 0, 65538, 393216, 4, 327681, 327680, 3, 262146, 196608, 1, 196610, 327680, 3, 131075, 327680, 5, 131072, 196608, 0, -65543, 196608, 0, -7, 196608, 0, 65530, 196608, 0, 131066, 196608, 0, -8, 196608, 0, 65529, 196608, 0, 131065, 196608, 0, 196602, 196608, 0)
layer_2/name = "floor_2"
layer_2/y_sort_enabled = true
layer_2/y_sort_origin = 32
layer_2/tile_data = PackedInt32Array(0, 65536, 0, -327675, 393216, 5, -393211, 262144, 3, -393210, 327680, 3, -458747, 196608, 0, -458748, 196608, 0, -524284, 196608, 0, -458746, 196608, 0, -524281, 196608, 0, -262140, 131072, 0, -327677, 131072, 0, -393213, 131072, 0, -131071, 65536, 0, -196608, 0, 0, -196615, 196608, 0, -131079, 196608, 0, -65542, 196608, 0, -6, 196608, 0, 65530, 196608, 10, -7, 196608, 10, -65543, 196608, 10, -131080, 196608, 10)
layer_3/name = "floor_3"
layer_3/y_sort_enabled = true
layer_3/y_sort_origin = 48
layer_3/tile_data = PackedInt32Array(-655355, 327680, 0, -655354, 262144, 0, -720891, 655360, 2, -786427, 196608, 0, -720892, 196608, 0, -851963, 196608, 0, -786426, 196608, 0, -720890, 196608, 0, -655353, 196608, 0, -655356, 196608, 0, -589820, 655360, 3, -589818, 720896, 3, -196606, 196608, 2, -131070, 131072, 2)
layer_4/name = "floor_4"
layer_4/y_sort_enabled = true
layer_4/y_sort_origin = 64
layer_4/tile_data = PackedInt32Array(65539, 0, 8, -196614, 196608, 0, -262151, 196608, 0, -327687, 196608, 0, -393224, 196608, 0)
metadata/_edit_lock_ = true

[node name="Pointer" type="Node2D" parent="TileMap" groups=["pointer"]]
y_sort_enabled = true
script = ExtResource("3_fyr8x")

[node name="tile_top_pointer" type="Area2D" parent="TileMap/Pointer"]
y_sort_enabled = true
collision_layer = 4
collision_mask = 8

[node name="Collider" type="CollisionShape2D" parent="TileMap/Pointer/tile_top_pointer"]
shape = SubResource("CircleShape2D_rkoc7")
debug_color = Color(0.211765, 0.2, 0.909804, 0.894118)

[node name="point_cast" type="RayCast2D" parent="TileMap/Pointer"]
z_index = 4
position = Vector2(0, -1)
target_position = Vector2(0, 1)
collision_mask = 8
hit_from_inside = true

[node name="Polygon" type="Polygon2D" parent="TileMap/Pointer"]
y_sort_enabled = true
color = Color(0.643137, 0, 0.109804, 0.529412)
polygon = PackedVector2Array(0, 0)

[node name="Player" type="Node2D" parent="TileMap"]
script = ExtResource("2_n38y2")

[node name="Body" type="CharacterBody2D" parent="TileMap/Player" groups=["player"]]
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="TileMap/Player/Body"]
shape = SubResource("RectangleShape2D_w1srw")

[node name="Camera" type="Camera2D" parent="TileMap/Player/Body"]
offset = Vector2(0, -16)
zoom = Vector2(4, 4)

[node name="Sprite" type="Sprite2D" parent="TileMap/Player/Body"]
z_as_relative = false
y_sort_enabled = true
texture = ExtResource("2_gm7lw")
offset = Vector2(0, -10)
hframes = 8
vframes = 4

[node name="AnimationPlayer" type="AnimationPlayer" parent="TileMap/Player/Body/Sprite"]

[node name="Area2D" type="Area2D" parent="TileMap/Player/Body"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="TileMap/Player/Body/Area2D"]
shape = SubResource("RectangleShape2D_sdk6y")

[node name="Polygon2D" type="Polygon2D" parent="TileMap/Player"]
z_index = 3
y_sort_enabled = true
polygon = PackedVector2Array(-2, -2, 2, -2, 2, 2, -2, 2)
